logLevel: info
logDestinations:
  - stdout
logFile: mediamtx.log
readTimeout: 10s
writeTimeout: 10s
writeQueueSize: 512
udpMaxPayloadSize: 1472
externalAuthenticationURL: null
metrics: 'no'
metricsAddress: 127.0.0.1:9998
pprof: 'no'
pprofAddress: 127.0.0.1:9999
runOnConnect: null
runOnConnectRestart: 'no'
runOnDisconnect: null
api: 'no'
apiAddress: 127.0.0.1:9997
playback: 'no'
playbackAddress: ':9996'
rtsp: 'yes'
protocols:
  - udp
  - multicast
  - tcp
encryption: 'no'
rtspAddress: ':8554'
rtspsAddress: ':8322'
rtpAddress: ':8000'
rtcpAddress: ':8001'
multicastIPRange: 224.1.0.0/16
multicastRTPPort: 8002
multicastRTCPPort: 8003
serverKey: server.key
serverCert: server.crt
authMethods:
  - basic
rtmp: 'yes'
rtmpAddress: ':1935'
rtmpEncryption: 'no'
rtmpsAddress: ':1936'
rtmpServerKey: server.key
rtmpServerCert: server.crt
hls: 'yes'
hlsAddress: ':8084'
hlsEncryption: 'no'
hlsServerKey: server.key
hlsServerCert: server.crt
hlsAlwaysRemux: 'no'
hlsVariant: lowLatency
hlsSegmentCount: 7
hlsSegmentDuration: 0.1s
hlsPartDuration: 0.1s
hlsSegmentMaxSize: 50M
hlsAllowOrigin: '*'
hlsTrustedProxies: []
hlsDirectory: ''
webrtc: 'yes'
webrtcAddress: ':8889'
webrtcEncryption: 'no'
webrtcServerKey: server.key
webrtcServerCert: server.crt
webrtcAllowOrigin: '*'
webrtcTrustedProxies: []
webrtcLocalUDPAddress: ':8189'
webrtcLocalTCPAddress: ''
webrtcIPsFromInterfaces: 'yes'
webrtcIPsFromInterfacesList: []
webrtcAdditionalHosts: []
webrtcICEServers2: []
srt: 'yes'
srtAddress: ':8890'
pathDefaults:
  source: publisher
  sourceFingerprint: null
  sourceOnDemand: 'no'
  sourceOnDemandStartTimeout: 10s
  sourceOnDemandCloseAfter: 10s
  maxReaders: 0
  srtReadPassphrase: null
  fallback: null
  record: 'no'
  playback: 'yes'
  recordPath: ./recordings/%path/%Y-%m-%d_%H-%M-%S-%f
  recordFormat: fmp4
  recordPartDuration: 100ms
  recordSegmentDuration: 1h
  recordDeleteAfter: 24h
  publishUser: null
  publishPass: null
  publishIPs: []
  readUser: null
  readPass: null
  readIPs: []
  overridePublisher: 'yes'
  srtPublishPassphrase: null
  rtspTransport: automatic
  rtspAnyPort: 'no'
  rtspRangeType: null
  rtspRangeStart: null
  sourceRedirect: null
  rpiCameraCamID: 0
  rpiCameraWidth: 1920
  rpiCameraHeight: 1080
  rpiCameraHFlip: false
  rpiCameraVFlip: false
  rpiCameraBrightness: 0
  rpiCameraContrast: 1
  rpiCameraSaturation: 1
  rpiCameraSharpness: 1
  rpiCameraExposure: normal
  rpiCameraAWB: auto
  rpiCameraDenoise: 'off'
  rpiCameraShutter: 0
  rpiCameraMetering: centre
  rpiCameraGain: 0
  rpiCameraEV: 0
  rpiCameraROI: null
  rpiCameraHDR: false
  rpiCameraTuningFile: null
  rpiCameraMode: null
  rpiCameraFPS: 30
  rpiCameraIDRPeriod: 60
  rpiCameraBitrate: 1000000
  rpiCameraProfile: main
  rpiCameraLevel: '4.1'
  rpiCameraAfMode: continuous
  rpiCameraAfRange: normal
  rpiCameraAfSpeed: normal
  rpiCameraLensPosition: 0
  rpiCameraAfWindow: null
  rpiCameraTextOverlayEnable: false
  rpiCameraTextOverlay: '%Y-%m-%d %H:%M:%S - MediaMTX'
  runOnInit: null
  runOnInitRestart: 'no'
  runOnDemand: null
  runOnDemandRestart: 'no'
  runOnDemandStartTimeout: 10s
  runOnDemandCloseAfter: 10s
  runOnUnDemand: null
  runOnReady: null
  runOnReadyRestart: 'no'
  runOnNotReady: null
  runOnRead: null
  runOnReadRestart: 'no'
  runOnUnread: null
  runOnRecordSegmentCreate: null
  runOnRecordSegmentComplete: null
paths:
  all_others: null
  mystream:
    source: >-
      rtsp://yangzhenduoroger2002%40gmail.com:Yangzhendu2002%40@172.20.10.2:554/stream1
    sourceOnDemand: 'yes'
    sourceProtocol: tcp
  test:
    runOnInit: >-
      ffmpeg -re -f lavfi -i testsrc=size=640x480:rate=30 -pix_fmt yuv420p -c:v
      libx264 -b:v 1M -g 30 -keyint_min 30 -profile:v baseline -preset ultrafast
      -f rtsp rtsp://localhost:8554/test
    runOnInitRestart: 'yes'
  my_camera:
    source: >-
      rtsp://yangzhenduoroger2002%40gmail.com:Yangzhendu2002%40@172.20.10.2:554/stream1
    sourceOnDemand: true
    sourceProtocol: tcp
  test_stream:
    source: rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mp4
    sourceOnDemand: true
    sourceProtocol: tcp
